# 使用GDB调试Nginx

1. 运行gdb
```shell
$ sudo gdb -q -tui
```

2. 启动nginx（若已经启动则可以忽略）
```shell
#和平时启动nginx一样，在前面增加shell表示用shell运行
（gdb） shell nginx
```

3. attach Nginx worker进程
```shell
#找到 Nginx worker进程的进程号
（gdb） shell pidof nginx
（gdb） attach pid
```

4. 打断点
```shell
（gdb） b function_name
```

5. 开始执行
```shell
（gdb） c
```

6. 单步调试
```shell
（gdb） n
```

7. 单步跟踪进步调试
```shell
（gdb） s
```

8. 删除断点
```shell
（gdb） d
```
